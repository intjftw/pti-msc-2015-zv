S05-03 Elsőrendű logika
=======================================
Tartalom
---------------------------------------
1. [Az elsőrendű logika leíró nyelve, szintaxis, szemantika](#chapter01)
2. [Formulák, formulahalmazok szemantikus tulajdonságai, szemantikus következményfogalom és eldöntésprobléma első rendben](#chapter02)
3. [Az eldöntésprobléma szemantikus eszközökkel való vizsgálatának korlátai, a szemantikus eldöntésproblémához köthető szintaktikus kalkulusok (tabló módszer és rezolúciós kalkulus) áttekintése: az eldöntésprobléma mely formájára és hogyan adnak választ, helyesség és teljesség kimondása](#chapter03)
4. [A rezolúció alkalmazása a logikai programozásban](#chapter04)

## 1. Az elsőrendű logika leíró nyelve, szintaxis, szemantika <a name="chapter01"></a>

### Az elsőrendű logika leíró nyelve

* Matematikai struktúra  
  A matematikai struktúra egy $<U,R,M,K>$ halmaznégyes, ahol
  * $U$: nem üres halmaz, a struktúra értelmezési tartománya (amennyiben $U$ egyfajta elemekből áll)
  * $R$: az $U$-n értelmezett n-változós ($n = 1,2...,k$) logikai függvények (_alaprelációk_) halmaza
  * $M$: az $U$-n értelmezett n-változós ($n = 1,2...,k$) matematikai függvények (alapműveletek) halmaza
  * $K$: az $U$ megjelölt elemeinek egy (esetleg üres) részhalmaza

Olyan ábécével kell hogy rendelkezzen, melynek a logikán kívüli szimbólumai és azok szignatúrája paraméterezéssel bármely adott matematikai struktúra szignatúrájával megfeleltethető legyen, ennélfogva a szimbólumok lehessenek a struktúra relációinak, műveleteinek és megjelölt elemeinek a nevei. Más szóval a nyelv alkalmas kell, hogy legyen tetszőleges szignatúrájú matematikai struktúrák leírására.  

* Adott szignatúrájú (egyfajtájú) struktúrákat leíró nyelvek  
  Egyféle elemből álló $U$ esetén az $<U,R,M,K>$ struktúra leíró nyelv logikán kívüli része lehet a következő.  
  Az $\mathcal{L}$ nyelv ábécéje: $<Pr, Fn, Cnst>$.  
  Szignatúrája: $\nu_1, \nu_2, \nu_3$.  
  * $Pr$ predikátumszimbólumok halmaza  
    $\nu_1$: $P \in Pr$-re megadja $P$ aritását (k).  
  * $Fn$ függvényszimbólumok halmaza  
    $\nu_2$: $f \in Fn$-re megadja $f$ aritását (k).  
  * $Cnst$ konstansszimbólumok halmaza  
    $\nu_3$: megadja a konstansok számát.  

* Adott szignatúrájú (többfajtájú) struktúrákat leíró nyelvek  
  Többféle elemből álló $U$ esetén az $<U,R,M,K>$ struktúra leíró nyelv logikán kívüli része lehet a következő.  
  Az $\mathcal{L}$ nyelv ábécéje: $<Srt, Pr, Fn, Cnst>$.  
  Szignatúrája: $\nu_1, \nu_2, \nu_3$.  
  * $Srt$ nemüres halmaz, melynek $\pi_j$ elemei fajtákat szimbolizálnak.  
  * $Pr$ predikátumszimbólumok halmaza  
    $\nu_1$: $P \in Pr$-re megadja $P$ aritását (k), és hogy milyen fajtáúak az egyes argumentumok ($\pi_1, \pi_2, ..., \pi_k$)  
  * $Fn$ függvényszimbólumok halmaza  
    $\nu_2$: $f \in Fn$-re megadja $f$ aritását (k), és hogy milyen fajtáúak az egyes argumentumok, valamint a függvény értéke ($\pi_1, \pi_2, ..., \pi_k; \pi_f$)  
  * $Cnst$ konstansszimbólumok halmaza  
    $\nu_3$: megadja a konstansok számát.  
  Az $<Srt, Pr, Fn, Cnst>$ képezi a logikai nyelv logikán kívüli részét.

* Az elsőrendű logika ábécéje:
  * Különböző fajtájú individuumváltozók (minden fajtához végtelen sok): $x, y, y_k, ...$
  * Unér és binér logikai műveleti jelek: $\neg, \land, \lor, \supset$
  * Kvantorok: $\forall, \exists$
  * Elválasztójelek: ( ) ,
  Az $\mathcal{L}$ ábécéjére $V[V_\nu]$-vel hivatkozunk, ahol $V_\nu$ adja meg a ($\nu_1, \nu_2, \nu_3$) szignatúrájú $<Srt, Pr, Fn, Cnst>$ halmaznégyest.

### Szintaxis

* (Egyfajtájú) Termek - $\mathcal{L}_t(V_\nu)$
  1) (alaplépés) Minden individuumváltozó és konstansszimbólum term.
  2) (rekurziv lépés) Ha az $f \in F_n$ k-változós függvényszimbólum és $t_1, t_2, ..., t_k$ termek, akkor $f(t_1, t_2, ..., t_k)$ is term.
  3) Minden term az 1), 2) szabályok véges sokszori alkalmazásával áll elő.

* (Egyfajtájú) Formulák - $\mathcal{L}_f(V_\nu)$
  1) (alaplépés) Ha a $P \in Pr$ k-változós predikátumszimbólum és $t_1, t_2, ..., t_k$ termek, akkor $P(t_1, t_2, ..., t_k)$ formula (_atomi formula_).
  2) (rekurziv lépés)
    * Ha $A$ formula, akkor $\neg A$ is az.
    * Ha $A$ és $B$ formulák, akkor $(A \circ B)$ is formula, ahol $\circ$ a három binér művelet bármelyike.
  3) Ha $A$ formula, akkor $\forall x A$ és $\exists x A$ is az.
  4) Minden formula az 1), 2), 3) szabályok véges sokszori alkalmazásával áll elő.

* (Többfajtájú) Termek - $\mathcal{L}_t(V_\nu)$
  1) (alaplépés) Minden $\pi \in Srt$ fajtájú individuumváltozó és konstansszimbólum $\pi$ fajtájú term.
  2) (rekurziv lépés) Ha az $f \in F_n (\pi_1, \pi_2, ..., \pi_k; \pi_f)$ fajtájú függvényszimbólum és $t_1, t_2, ..., t_k$ rendre $\pi_1, \pi_2, ..., \pi_k$ fajtájú termek, akkor $f(t_1, t_2, ..., t_k)$ $\pi_f$ fajtájú term.
  3) Minden term az 1), 2) szabályok véges sokszori alkalmazásával áll elő.

* (Többfajtájú) Formulák - $\mathcal{L}_f(V_\nu)$
  1) (alaplépés) Ha a $P \in Pr (\pi_1, \pi_2, ..., \pi_k)$ fajtájú predikátumszimbólum és $t_1, t_2, ..., t_k$ rendre $\pi_1, \pi_2, ..., \pi_k$ fajtájú termek, akkor $P(t_1, t_2, ..., t_k)$ formula (_atomi formula_).
  2) (rekurziv lépés)
    * Ha $A$ formula, akkor $\neg A$ is az.
    * Ha $A$ és $B$ formulák, akkor $(A \circ B)$ is formula, ahol $\circ$ a három binér művelet bármelyike.
  3) Ha $A$ formula, akkor $\forall x A$ és $\exists x A$ is az.
  4) Minden formula az 1), 2), 3) szabályok véges sokszori alkalmazásával áll elő.

* Elsőrendű logikai nyelv: $\mathcal(L)(V_\nu) = \mathcal(L)_t(V_\nu) \cup \mathcal(L)_f(V_\nu)$.

* Formulaelnevezések
  * $\neg A$ negációs
  * $A \land B$ konjunkciós
  * $A \lor B$ diszjunkciós
  * $A \supset B$ implikációs
  * $\forall xA$ univerzálisan kvantált
  * $\exists xA$ egzisztenciálisan kvantált

* Zárójelelhagyás
  * A teljesen zárójelezett formulákat kevesebb zárójellel írhatjuk fel, ha
  bevezetjük a _műveletek prioritását_: $\neg, \land, \lor, \supset$ (csökkenő sorrend).
  * A zárójelelhagyás célja egy formulából a lehető legtöbb zárójel elhagyása
  a formula szerkezetének megtartása mellett.
  * **Lépései:**
    1) A formula külső zárójelpárjának elhagyása (ha van ilyen).
    2) Egy binér logikai összekötő hatáskörébe eső részformulák külső zárójelei
    akkor hagyhatók el, ha a részformula fő logikai összekötőjele nagyobb
    prioritású nála.

* Logikai műveletek és kvantorok hatásköre  
  A logikai műveletek és kvantorok hatásköre a formula részformulái közül az a legkisebb logikai összetettségű, amelyben az adott logikai összekötő előfordul.

* Fő logikai összekötőjel  
  Egy formula fő logikai összekötőjele az az összekötőjel, amelynek a hatásköre maga a formula.

* Komponens formulák  
  Egy formulában egy logikai művelet hatáskörében lévő részformulá(ka)t komponens formuláknak nevezzük.
  1) Egy atomi formulának nincs közvetlen komponense (_prímformula_).
  2) $\neg A$ közvetlen komponense az $A$ formula.
  3) Az ($A \circ B$) közvetlen részformulái az $A$ és a $B$.
  4) A $QxA (Q \in \{\forall, \exists\})$ formulának nincs közvetlen komponense (_prímformula_).

  _Prímkomponensnek_ nevezzük azokat a prímformulákat, amelyekből a formula kizárólag a_ $\neg, \land, \lor, \supset$ műveletek segítségével épül fel.  

  Ennek megfelelően a prímformulák:  
  * Egy atomi formula prímformula.
  * Egy $QxA$ formula prímformula.

* Logikai összetettség
  * Egy $A$ formula logikai összetettsége $\ell(A)$.
  * Kiszámítása:
    1) Ha $A$ atomi formula, akkor $\ell(A)$ = 0
    2) $\ell(\neg A)$ = $\ell(A)$ + 1
    3) $\ell(A \circ B)$ = $\ell(A)$ + $\ell(B)$ + 1
    4) $\ell(QxA)$ = $\ell(A)$ + 1

* Egy formulában egy $x$ változó egy előfordulása
  * _szabad_, ha nem esik $x$-re vonatkozó kvantor hatáskörébe
  * _kötött_, ha $x$-re vonatkozó kvantor hatáskörébe esik

* Egy $x$ változó egy formulában
  * _kötött változó_, ha $x$ minden előfordulása kötött
  * _szabad változó_, ha $x$ minden előfordulása szabad
  * _vegyes változó_, ha $x$-nek van szabad és kötött előfordulása is

_Megjegyzés: Ha egy formulában egy változó kötött, akkor átnevezve ezt a változót a formulában elő nem forduló változónévvel a formula ekvivalens marad az eredetivel. Ily módon minden formula átírható változóátnevezésekkel vegyes változót már nem tartalmazó, ú.n. változóiban tiszta formulává._

* Formulák szintaktikus tulajdonságai
  * Egy formula _zárt_, ha minden változója kötött.
  * Egy formula _nyitott_, ha legalább egy individuumváltozónak van legalább egy szabad előfordulása.
  * Egy formula _változóiban tiszta_, ha benne minden prefixumban a formula paramétereitől és bármely más prefixumban megnevezett változótól különböző változó van megnevezve.
  * Egy formula _kvantormentes_, ha nem tartalmaz kvantort.

* Alapkifejezés, alapatom, alapterm  
  * _Alapkifejezés_ a változót nem tartalmazó $\mathcal{L}$ kifejezés (_alapformula_, _alapterm_). Ezeket alappéldányoknak is nevezzük. Az atomi formulák alappéldányait két csoportba soroljuk:  
    * Egy atomi formula _alapatom_, ha argumentumai konstansszimbólumok vagy egy megadott univerzum elemei (pl. $P(c)$).
    * Egy atomi formulát az _atomi formula alappéldányának_ nevezzük, ha argumentumai alaptermek (pl. $Q(f(a,b),a)$).

* Termhelyettesítés: a termhelyettesítés a szabad változókba megengedett.  
  $\Theta: V_x \rightarrow \mathcal{L}_t[V_\nu]$  
  $\Theta$ = $(x_1, x_2, ..., x_n || t_1, t_2, ... t_n)$

### Szemantika

* Elsőrendű logikai nyelv interpretációja  
  Egy elsőrendű logikai nyelv $\mathcal{L}[V_\nu]$ interpretációja egy, az $\mathcal{L}$ nyelvvel azonos szignatúrájú <U,R,M,K> matematikai struktúra.  

  Az $I$ interpretáció működése: $I = <I_{Srt}, I_{Pr}, I_{Fn}, I_{Cnst}>$ függvénynégyes, ahol:
  * $I_{Srt}: \pi \mapsto \mathcal{U}_\pi$, ahol ha $Srt$ egyelemű, akkor az interpretáció $U$ univerzuma egyfajtájú elemekből áll.
  * $I_{Pr}: P \mapsto P^I$, ahol $P^I$ a struktúra $R$ halmaza.
  * $I_{Fn}: f \mapsto f^I$, ahol $f^I$ a struktúra $M$ halmaza.
  * $I_{Pr}: c \mapsto c^I$, ahol $c^I$ a struktúra $K$ halmaza.

* Változókiértékelés  
  Egy $\kappa: V \rightarrow \mathcal{U}$ leképezés, ahol $V$ a nyelv változóinak halmaza, $U$ pedig az interpretáció univerzuma.  
  $|x|^{I,\kappa}$ az $U$ univerzumbeli $\kappa(x)$ individuum.

* Változókiértékelés variánsa  
  Legyen $x$ egy változó. A $\kappa^{*}$ változókiértékelés a $\kappa$ változókiértékelés $x$ variánsa, ha $\kappa^{*}(y) = \kappa(y)$ minden $x$-től különböző $y$ változó esetén.

* Termek szemantikája
  1) Ha $c$ konstansszimbólum, $|c|^{I,\kappa}$ az $U$-beli $c^I$ elem.
  2) Ha $x$ individuumváltozó, $|x|^{I,\kappa}$ a $\kappa(x) \in U$ individuum (ahol $\kappa$ egy változókiértékelés).
  3) $|f(t_1, t_2, ..., t_n)|^{I,\kappa}$ = $f^I((|t_1|^{I,\kappa}, |t_2|^{I,\kappa}, ..., |t_n|^{I,\kappa}))$

* Formulák szemantikája
  1) $|P(t_1, t_2, ..., t_n)|^{I,\kappa} = i$, ha $(|t_1|^{I, \kappa}, |t_2|^{I, \kappa}, ..., |t_n|^{I, \kappa}) \in P^I$, ahol a $P^I$ jelöli a $P_I$ reláció igazhalmazát.
  2) $|\neg A|^{I,\kappa} = \neg|A|^{I,\kappa}$  
     $|A \land B|^{I,\kappa} = |A|^{I,\kappa} \land |B|^{I,\kappa}$  
     $|A \lor B|^{I,\kappa} = |A|^{I,\kappa} \lor |B|^{I,\kappa}$  
     $|A \supset B|^{I,\kappa} = |A|^{I,\kappa} \supset |B|^{I,\kappa}$  
   3) $|\forall x A|^{I,\kappa} = i$, ha $|A|^{I,\kappa^{*}} = i$ $\kappa$ minden $\kappa^{*}$ $x$ variánsára.  
      $|\exists x A|^{I,\kappa} = i$, ha $|A|^{I,\kappa^{*}} = i$ $\kappa$ legalább egy $\kappa^{*}$ $x$ variánsára.  
      ($A$ a formula törzse/mátrixa)  

* Formula értéktáblája
  * Egy 1. rendű formula értéktáblájában az első sorba a formula szabad változói, a prímkomponensek és a formula kerülnek. (Mivel a prímformulák több esetben paraméteres állítások, ezért az interpretációban az individuumváltozók kiértékelése után válnak állításokká.)
  * Az individuumváltozók alá a lehetséges változókiértékelések, a prímformulák alá a megfelelő helyettesítési értékek kerülnek.
  * A formula alatt a formulának a prímformulák értékei alapján kiszámított helyettesítési értékei találhatók.

## 2. Formulák, formulahalmazok szemantikus tulajdonságai, szemantikus következményfogalom és eldöntésprobléma első rendben <a name="chapter02"></a>



## 3. Az eldöntésprobléma szemantikus eszközökkel való vizsgálatának korlátai, a szemantikus eldöntésproblémához köthető szintaktikus kalkulusok (tabló módszer és rezolúciós kalkulus) áttekintése: az eldöntésprobléma mely formájára és hogyan adnak választ, helyesség és teljesség kimondása <a name="chapter03"></a>

## 4. A rezolúció alkalmazása a logikai programozásban <a name="chapter04"></a>
