S05-01 A B nyelv szemantikája
=======================================
Tartalom
---------------------------------------
1. [A B helyettesítések szemantikája](#chapter01)
2. [A B komponensek fajtái, tulajdonságai](#chapter02)
3. [Interaktív bizonyítórendszer](#chapter03)
4. [Bizonyítandó állítások](#chapter04)

## 1. A B helyettesítések szemantikája <a name="chapter01"></a>

A formális módszer a rendszer leírásának szemantikája és szintaktikája formális matematikai eszközökkel definiálva. Bizonyítórendszer is tartozik hozzá. A biztonságkritikus rendszerek megbízhatóságának ellenőrzése miatt szükség van a bizonyításra.  

A formális módszer több témakörben is megjelenik:
  * Specifikációban
  * Fejlesztésben
  * Ellenőrzéseben

### B-módszer
* Halmazelméletre és az absztrakt gép fogalmára épít.
* A B egy eszközökkel támogatott, "absztrakt gép" jelölésmódszert használó formális módszer, amelyet a szoftverfejlesztésben használnak.
* Egy formális szoftverfejlesztési módszer, amelynek segítségével a program viselkedését lehet absztrakt módon modellezni B nyelven.
* Több finomítással egy konkrét modellt lehet kapni, amely átkódolható ADA-ba.
* Egy formális bizonyítási tevékenységgel ellenőrizni lehet az absztrakt modell koherenciáját, valamint minden finomítás megfelelőségét a felsőbb modellnek, így biztosítva a teljes konkrét megvalósítás megfelelését az absztrakt modellnek.
* Formális eszköz, mivel formális szintaktikából és szemantikából áll.
* Helyesség bizonyítása a specifikációtól az implementációig.
* Lépésenkénti finomítás
* Automatikus kódgenerálás

![Specifikációtól a kódig 1.](img/formalis_flow.png)

![Specifikációtól a kódig 2.](img/formalis_activity.png)

#### B-módszer vs. V-modell

![V-modell](img/v_modell.png)

![V-modell + B-módszer](img/v_modell_modify.png)

#### Helyettesítés

* $[x := E] F$ jelölés
  * Az $x$ összes szabad előfordulását $E$-re cseréljük $F$-ben.
  * $\forall n(n \in N \Rightarrow n > x)$: $x$ szabad, $n$ kötött változó
* _INITIALISATION_
  * Az inicializáció megőrzi az invariáns tulajdonságot.
  * $[G; H] P \Leftrightarrow [G][H]P$
  * $[PRE\quad P\quad THEN\quad G\quad END][Q] \Leftrightarrow P \land [G]Q$

#### Szemantika



## 2. A B komponensek fajtái, tulajdonságai <a name="chapter02"></a>

### Komponensek

Megkülönböztetjük az _absztrakt gépet_, a _finomítást_ és az _implementációt_.  

#### Absztrakt gép



#### Finomított gép

#### Implementáció

## 3. Interaktív bizonyítórendszer <a name="chapter03"></a>

### Bevezetés

* Bizonyítani kell, hogy a specifikáció, a finomítás, valamint az implementáció helyes.
* Állításokat generál, amelyeket be kell látni.
* Pl.:
  * Szekvencia:
$$
  \frac{\{\{Q\}\} S_1 \{\{Q'\}\}\quad \{\{Q'\}\} S_2 \{\{R\}\}}{\{\{Q\}\} S_1; S_2 \{\{R\}\}}
$$

### Bizonyító parancsok

* **pr** (prove)
  * Automata bizonyító, megpróbálja különböző heurisztikák mentén belátni az állítást.
* **sh** (search hypothesis)
  * A hipotérzistérben lehet állításokat keresni/kilistázni.
* **ah** (add hypothesis)
  * Ha a hipotézistérben egy fontos állítás nem szerepel, de igaz, akkor _ah_ segítségével lehet hozzáadni.
  * Az állítást ezután be kell látni.
  * A későbbiekben fel tudjuk használni.
* **sr** (search rule)
  * Előre definiált szabályok keresésére alkalmas, amelyek mentén egy állítást be tudunk látni.
* **ar** (apply rule)
  * Megadjuk, hogy melyik szabályt alkalmazzuk.
* **ph** (particularize hypothesis)
  * A célban univerzális kvantoros kifejezést tartalmazó állítás bizonyítására alkalmas.
  * Kötött változókat manipulál.
* **se** (suggest for exist)
  * A célban egzisztenciális kvantoros kifejezést tartalmazó állítás bizonyítására alkalmas.
  * Kicseréli a célbeli változókat valamilyen hipotézistérbeli változóra.
* **fh** (false hypothesis)
  * Megpróbál belátni egy állítást úgy, hogy bebizonyítja, hogy egy hipotézis hamis.
  * Indirekt bizonyítás
* **dc** (do cases)
  * Esetszétválasztással próbál bebizonyítani egy állítást.
* **dd** (deduction)
  * Dedukciót végez: $\frac{A \Rightarrow B}{B}$
  * Az $A-t$ berakja a hipotézistérbe.
* **eh**
  * Ha van egy $a = A$ állításunk, akkor a célban (_Goal_), egy hipotézisben (_Hyp_) vagy az összes hipotézisben (_AllHyp_) ki lehet cserélni.
* **ae**
  * Egy bonyolult változót ki lehet emelni egy változóba.
  * Pl.: ae(EX, ID) => ID = EX bekerül a hipotézistérbe => _eh_-t lehet alkalmazni.
* **pp0**
  * A => B
  * Megpróbálja B-t belátni A-ból.
* **pp1**
  * Hasonlóan, mint a pp0, de a teljes hipotézistérrel dolgozik.

## 4. Bizonyítandó állítások <a name="chapter04"></a>

Mire vonatkoznak az állítások?  
* A specifikáció konzisztens
* A finomítás helyes
* Az implementáció megoldja a feladatot

## Források
- Istenes Zoltán előadásdiasora: https://prezi.com/dn7oy9jtawqr/a-b-formalis-modszer/?fbclid=IwAR27agGfk79UNA8JGX4NPgJYiGM6ufwM-ygnUgnErSINBoMVJAyATE9uDjs
- Atelier B Interactive Prover Manual
